{"metadata":{"roleHeading":"Article","modules":[{"name":"ArgumentParser"}],"role":"article","title":"Customizing Help for Commands"},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/ArgumentParser\/documentation\/ArgumentParser\/CustomizingCommandHelp"},"abstract":[{"text":"Define your command’s abstract, extended discussion, or usage string, and set the flags used to invoke the help display.","type":"text"}],"sections":[],"hierarchy":{"paths":[["doc:\/\/ArgumentParser\/documentation\/ArgumentParser"],["doc:\/\/ArgumentParser\/documentation\/ArgumentParser","doc:\/\/ArgumentParser\/documentation\/ArgumentParser\/ParsableCommand"]]},"primaryContentSections":[{"kind":"content","content":[{"type":"heading","anchor":"Overview","level":2,"text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"In addition to configuring the command name and subcommands, as described in "},{"type":"reference","identifier":"doc:\/\/ArgumentParser\/documentation\/ArgumentParser\/CommandsAndSubcommands","isActive":true},{"type":"text","text":", you can also configure a command’s help text by providing an abstract, discussion, or custom usage string."}]},{"type":"codeListing","code":["struct Repeat: ParsableCommand {","    static let configuration = CommandConfiguration(","        abstract: \"Repeats your input phrase.\",","        usage: \"\"\"","            repeat <phrase>","            repeat --count <count> <phrase>","            \"\"\",","        discussion: \"\"\"","            Prints to stdout forever, or until you halt the program.","            \"\"\")","","    @Argument(help: \"The phrase to repeat.\")","    var phrase: String","","    @Option(help: \"How many times to repeat.\")","    var count: Int? = nil","","    mutating func run() throws {","        for _ in 0..<(count ?? 2) {","            print(phrase) ","        }","    }","}"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The customized components now appear in the generated help screen:"}]},{"type":"codeListing","code":["% repeat --help","OVERVIEW: Repeats your input phrase.","","Prints to stdout forever, or until you halt the program.","","USAGE: repeat <phrase>","       repeat --count <count> <phrase>","","ARGUMENTS:","  <phrase>                The phrase to repeat.","","OPTIONS:","  -h, --help              Show help information.","","% repeat hello!","hello!","hello!","hello!","hello!","hello!","hello!","..."],"syntax":null},{"type":"heading","anchor":"Modifying-the-Help-Flag-Names","level":3,"text":"Modifying the Help Flag Names"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Users can see the help screen for a command by passing either the "},{"type":"codeVoice","code":"-h"},{"type":"text","text":" or the "},{"type":"codeVoice","code":"--help"},{"type":"text","text":" flag, by default. If you need to use one of those flags for another purpose, you can provide alternative names when configuring a root command."}]},{"type":"codeListing","code":["struct Example: ParsableCommand {","    static let configuration = CommandConfiguration(","        helpNames: [.long, .customShort(\"?\")])","","    @Option(name: .shortAndLong, help: \"The number of history entries to show.\")","    var historyDepth: Int","","    mutating func run() throws {","        printHistory(depth: historyDepth)","    }","}"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"When running the command, "},{"code":"-h","type":"codeVoice"},{"type":"text","text":" matches the short name of the "},{"code":"historyDepth","type":"codeVoice"},{"type":"text","text":" property, and "},{"code":"-?","type":"codeVoice"},{"type":"text","text":" displays the help screen."}]},{"type":"codeListing","code":["% example -h 3","nmap -v -sS -O 10.2.2.2","sshnuke 10.2.2.2 -rootpw=\"Z1ON0101\"","ssh 10.2.2.2 -l root","% example -?","USAGE: example --history-depth <history-depth>","","ARGUMENTS:","  <phrase>                The phrase to repeat.","","OPTIONS:","  -h, --history-depth     The number of history entries to show.","  -?, --help              Show help information."],"syntax":null},{"type":"paragraph","inlineContent":[{"text":"When not overridden, custom help names are inherited by subcommands. In this example, the parent command defines ","type":"text"},{"code":"--help","type":"codeVoice"},{"text":" and ","type":"text"},{"code":"-?","type":"codeVoice"},{"text":" as its help names:","type":"text"}]},{"type":"codeListing","code":["struct Parent: ParsableCommand {","    static let configuration = CommandConfiguration(","        subcommands: [Child.self],","        helpNames: [.long, .customShort(\"?\")])","","    struct Child: ParsableCommand {","        @Option(name: .shortAndLong, help: \"The host the server will run on.\")","        var host: String","    }","}"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"code":"child","type":"codeVoice"},{"type":"text","text":" subcommand inherits the parent’s help names, allowing the user to distinguish between the host argument ("},{"code":"-h","type":"codeVoice"},{"type":"text","text":") and help ("},{"code":"-?","type":"codeVoice"},{"type":"text","text":")."}]},{"type":"codeListing","code":["% parent child -h 192.0.0.0","...","% parent child -?","USAGE: parent child --host <host>","","OPTIONS:","  -h, --host <host>       The host the server will run on.","  -?, --help              Show help information."],"syntax":null},{"anchor":"Hiding-Commands","type":"heading","level":3,"text":"Hiding Commands"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You may not want to show every one of your command as part of your command-line interface. To render a command invisible (but still usable), pass "},{"code":"shouldDisplay: false","type":"codeVoice"},{"type":"text","text":" to the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/ArgumentParser\/documentation\/ArgumentParser\/CommandConfiguration"},{"type":"text","text":" initializer."}]},{"anchor":"Generating-Help-Text-Programmatically","type":"heading","level":3,"text":"Generating Help Text Programmatically"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The help screen is automatically shown to users when they call your command with the help flag. You can generate the same text from within your program by calling the "},{"type":"codeVoice","code":"helpMessage()"},{"type":"text","text":" method."}]},{"type":"codeListing","code":["let help = Repeat.helpMessage()","\/\/ `help` matches the output above","","let fortyColumnHelp = Repeat.helpMessage(columns: 40)","\/\/ `fortyColumnHelp` is the same help screen, but wrapped to 40 columns"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"When generating help text for a subcommand, call ","type":"text"},{"code":"helpMessage(for:)","type":"codeVoice"},{"text":" on the ","type":"text"},{"code":"ParsableCommand","type":"codeVoice"},{"text":" type that represents the root of the command tree and pass the subcommand type as a parameter to ensure the correct display.","type":"text"}]}]}],"variants":[{"paths":["\/documentation\/argumentparser\/customizingcommandhelp"],"traits":[{"interfaceLanguage":"swift"}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"kind":"article","seeAlsoSections":[{"identifiers":["doc:\/\/ArgumentParser\/documentation\/ArgumentParser\/GettingStarted","doc:\/\/ArgumentParser\/documentation\/ArgumentParser\/ParsableCommand","doc:\/\/ArgumentParser\/documentation\/ArgumentParser\/AsyncParsableCommand","doc:\/\/ArgumentParser\/documentation\/ArgumentParser\/CommandsAndSubcommands"],"title":"Essentials","generated":true,"anchor":"Essentials"}],"references":{"doc://ArgumentParser/documentation/ArgumentParser":{"title":"ArgumentParser","role":"collection","type":"topic","abstract":[{"type":"text","text":"Straightforward, type-safe argument parsing for Swift."}],"url":"\/documentation\/argumentparser","identifier":"doc:\/\/ArgumentParser\/documentation\/ArgumentParser","kind":"symbol"},"doc://ArgumentParser/documentation/ArgumentParser/CommandsAndSubcommands":{"role":"article","url":"\/documentation\/argumentparser\/commandsandsubcommands","type":"topic","kind":"article","abstract":[{"text":"Break complex command-line tools into a tree of subcommands.","type":"text"}],"identifier":"doc:\/\/ArgumentParser\/documentation\/ArgumentParser\/CommandsAndSubcommands","title":"Defining Commands and Subcommands"},"doc://ArgumentParser/documentation/ArgumentParser/GettingStarted":{"abstract":[{"text":"Learn to set up and customize a simple command-line tool.","type":"text"}],"url":"\/documentation\/argumentparser\/gettingstarted","role":"article","kind":"article","type":"topic","title":"Getting Started with ArgumentParser","identifier":"doc:\/\/ArgumentParser\/documentation\/ArgumentParser\/GettingStarted"},"doc://ArgumentParser/documentation/ArgumentParser/ParsableCommand":{"navigatorTitle":[{"text":"ParsableCommand","kind":"identifier"}],"title":"ParsableCommand","url":"\/documentation\/argumentparser\/parsablecommand","abstract":[{"text":"A type that can be executed as part of a nested tree of commands.","type":"text"}],"fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"ParsableCommand","kind":"identifier"}],"identifier":"doc:\/\/ArgumentParser\/documentation\/ArgumentParser\/ParsableCommand","type":"topic","role":"symbol","kind":"symbol"},"doc://ArgumentParser/documentation/ArgumentParser/AsyncParsableCommand":{"kind":"symbol","identifier":"doc:\/\/ArgumentParser\/documentation\/ArgumentParser\/AsyncParsableCommand","type":"topic","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"AsyncParsableCommand"}],"url":"\/documentation\/argumentparser\/asyncparsablecommand","abstract":[{"text":"A type that can be executed asynchronously, as part of a nested tree of","type":"text"},{"text":" ","type":"text"},{"text":"commands.","type":"text"}],"navigatorTitle":[{"kind":"identifier","text":"AsyncParsableCommand"}],"role":"symbol","title":"AsyncParsableCommand"},"doc://ArgumentParser/documentation/ArgumentParser/CommandConfiguration":{"abstract":[{"type":"text","text":"The configuration for a command."}],"navigatorTitle":[{"text":"CommandConfiguration","kind":"identifier"}],"title":"CommandConfiguration","url":"\/documentation\/argumentparser\/commandconfiguration","role":"symbol","kind":"symbol","identifier":"doc:\/\/ArgumentParser\/documentation\/ArgumentParser\/CommandConfiguration","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"CommandConfiguration","kind":"identifier"}],"type":"topic"}}}